classdef Config

    properties
        structural_behavior_type = 'A';

        % SDS_SD1 = [0.5, 0.3];
        % SMS_SM1 = [0.7, 0.4];
        % SDS_SD1 = [0.66, 0.49];
        % SMS_SM1 = [0.8, 0.54];
        SDS_SD1 = [0.8, 0.675];
        SMS_SM1 = [1, 0.77];

        PF = [
            1.252, 1.116, 1.103
        ];

        effective_mass = [
            456, 47, 10
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            34.015	134.1839
            45.61	162.6691
            62.099	183.0121
            63.392	184.068
            95.881	194.9219
            137.172	202.2915
            140.018	202.6369
            140.018	202.6369
            140.018	202.6369
            140.018	202.6369
        ];

        mode1 = [
            0	0
            40	100.7825
            42.492	107.0618
            51.525	122.316
            63.704	131.2968
            89.949	141.5935
            133.735	150.9495
            173.68	153.7713
            229.244	157.3525
            231.922	157.4777
            271.859	158.084
            311.794	158.6664
            311.818	158.669
            307.207	136.3745
        ];

        mode2 = [
            0	0
            -6.144	57.0918
            -8.898	78.2157
            -16.033	98.8138
            -26.694	111.9436
            -27.104	112.279
            -41.634	119.4953
            -47.304	121.2932
            -52.926	122.4686
            -120.135	125.4782
            -139.625	126.3546
            -139.628	106.437
            -141.787	114.1754
            -143.232	116.4542
            -143.235	112.6358
            -144.613	115.9639
            -144.617	113.1752
            -144.621	96.5928
            -147.135	102.9849
            -147.139	81.907
            -151.902	93.6112
            -154.063	96.3306
            -157.157	98.3876
            -161.973	100.4009
            -170.681	102.3411
            -173.45	102.7498
            -173.632	102.8488
        ];

        mode3 = [
            0	0
            2.105	44.87
            3.859	67.719
            7.37	93.3385
            11.528	101.8632
            12.303	102.7345
            13.654	103.5757
            69.434	110.3985
            69.438	85.9189
            69.698	89.0711
            70.618	96.0683
            73.538	99.5655
            74.247	74.6478
            74.556	78.3847
            75.262	83.4311
            75.784	84.9842
            77.897	86.9752
            77.905	56.4981
            78.756	73.2955
            78.969	75.8761
            79.632	79.836
            80.444	82.0994
        ];

        inverted_triangle = [
            0	0
            40	98.3846
            42.642	104.8831
            52.353	120.8079
            63.7	129.0057
            85.014	137.2945
            137.051	148.3964
            141.425	149.0525
            207.879	153.3483
            210.224	153.4621
            250.163	154.1467
            290.105	154.7613
            326.99	155.2721
            322.236	133.0991
        ];
    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
