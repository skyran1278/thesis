classdef Tradition

    properties
        structural_behavior_type = 'A';

        % SDS_SD1 = [0.5, 0.3];
        % SMS_SM1 = [0.7, 0.4];
        SDS_SD1 = [0.66, 0.49];
        SMS_SM1 = [0.8, 0.54];
        % SDS_SD1 = [0.8, 0.675];
        % SMS_SM1 = [1, 0.77];

        PF = [
            1.319, 0.486, 0.276
        ];

        effective_mass = [
            2736, 415, 131
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            50	157.4775
            70.155	220.9588
            81.409	251.1321
            83.38	254.4126
            86.51	258.5242
        ];

        mode1 = [
            0	0
            50	102.8978
            100	205.7956
            113.374	233.3194
            127.442	258.5674
            156.686	281.7294
            161.928	284.3804
            167.805	285.9638
            226.724	293.9717
            284.643	300.2444
            334.643	304.8329
            404.997	310.4749
            460.317	314.0874
            485.933	315.4728
            487.124	315.6005
            487.127	259.3439
            487.13	246.3629
            489.042	248.4875
            492.167	250.7201
            492.165	250.7163
            499.946	255.4362
        ];

        mode2 = [
            0	0
            -19.599	145.0529
            -24.825	177.4719
            -45.028	225.5984
            -56.32	240.2814
            -118.1	271.5761
            -126.717	274.0837
            -182.512	283.3418
            -246.567	290.8603
            -265.508	292.3811
            -265.512	266.2511
            -267.074	271.2748
            -268.577	274.3942
            -269.559	275.6381
            -275.489	277.7249
            -281.419	278.874
            -281.424	239.9166
            -283.66	248.6349
            -283.665	245.4195
            -286.516	254.4122
            -286.521	250.8954
            -286.529	250.9573
            -288.19	254.3025
            -291.029	256.7258
        ];

        mode3 = [
            0	0
            -9.124	114.3379
            -10.263	125.756
            -20.23	166.154
            -38.892	208.8434
            -43.981	214.5774
            -84.702	234.4814
            -99.364	238.4934
            -99.364	238.4934
            -99.364	238.4934
            -99.364	238.4934
            -99.364	238.4934
            -99.364	238.4934
        ];

        inverted_triangle = [
            0	0
            50	102.928
            100	205.8559
            114.724	236.1671
            128.97	261.501
            160.915	285.6289
            167.066	288.0084
            256.695	299.6868
            321.846	305.9451
            385.318	311.1504
            436.281	314.7049
            493.445	317.8832
            495.143	318.0648
            487.409	269.1318
        ];
    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
