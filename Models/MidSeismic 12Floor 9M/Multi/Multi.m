classdef Multi

    properties
        structural_behavior_type = 'A';

        % SDS_SD1 = [0.5, 0.3];
        % SMS_SM1 = [0.7, 0.4];
        SDS_SD1 = [0.66, 0.49];
        SMS_SM1 = [0.8, 0.54];
        % SDS_SD1 = [0.8, 0.675];
        % SMS_SM1 = [1, 0.77];

        PF = [
            1.319, 0.486, 0.276
        ];

        effective_mass = [
            2736, 415, 131
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            1.656E-12	0
            50	204.4558
            64.958	265.6215
            81.244	314.3394
            126.463	374.9011
            175.781	409.6721
            208.032	423.0954
            257.917	428.5914
            257.904	428.4097
            262.591	429.9231
            314.066	435.4238
            315.629	435.5952
        ];

        mode1 = [
            1.656E-12	0
            50	102.8978
            100	205.7956
            113.374	233.3194
            127.36	258.2996
            137.028	267.0107
            142.017	269.3004
            151.585	271.9793
            204.404	279.8287
            266.152	286.6278
            347.177	293.426
            408.85	298.0467
            489.269	302.8346
            499.959	303.3752
        ];

        mode2 = [
            1.656E-12	0
            -19.599	145.0529
            -24.825	177.4719
            -44.852	223.2699
            -53.524	234.9199
            -102.804	262.1475
            -111.249	264.9308
            -172.794	275.9805
            -242.692	283.9251
            -279.083	286.7228
            -288.416	286.9808
            -288.42	228.3432
            -292.642	243.3302
            -292.647	202.3061
            -295.929	216.123
            -299.406	223.4207
            -299.411	214.9568
            -299.823	216.6559
            -303.105	224.9624
            -303.969	226.328
            -307.094	229.1962
            -316.492	232.4719
            -316.687	232.5867
        ];

        mode3 = [
            1.656E-12	0
            9.124	114.3379
            10.263	125.756
            19.98	165.1546
            36.827	203.5915
            38.325	205.4251
            71.641	225.2886
            102.473	235.2974
            102.907	235.378
        ];

        inverted_triangle = [
            1.656E-12	0
            50	102.928
            100	205.8559
            114.724	236.1671
            128.417	260.6913
            137.905	269.1855
            143.303	271.5816
            154.075	274.6085
            204.506	282.0777
            258.594	287.9386
            339.591	294.7714
            390.27	298.5818
            447.39	302.3149
            499.99	305.0359
        ];
    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
