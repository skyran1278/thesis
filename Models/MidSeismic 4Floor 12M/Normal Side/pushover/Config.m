classdef Config

    properties
        structural_behavior_type = 'A';

        SDS_SD1 = [0.66, 0.49];
        SMS_SM1 = [0.8, 0.54];

        PF = [
            1.279, 1.187, 1.065
        ];

        effective_mass = [
            1742, 228, 83
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            44.696	1.1533
            95.618	1.8041
            121.775	2.0397
            172.27	2.2781
            192.131	2.3272
            217.986	2.3665
            217.991	1.5167
            224.885	1.5792
            224.89	1.5212
            229.458	1.5595
            233.927	1.5728
            285.598	1.6233
            287.301	1.625
            288.146	1.6255
            288.318	1.6354
            290.52	1.6533
            291.987	1.6602
            292.721	1.6608
            293.118	1.6627
        ];

        inverted_triangle = [
            0	0
            50	295.4289
            51.846	306.3361
            122.656	507.1975
            146.481	547.4075
            159.502	559.6386
            215.985	583.5333
            245.111	591.4377
            245.332	401.8263
            247.453	406.587
            248.867	408.5306
            248.889	408.5479
            249.107	408.9231
        ];

        mode1 = [
            0	0
            50	295.2331
            51.6	304.679
            121.888	505.5165
            145.818	545.843
            158.745	558.149
            229.262	586.2092
            241.85	589.6436
            239.956	329.4874
            242.799	334.4058
            242.802	334.4134
        ];

        mode2 = [
            0	0
            10.319	312.3838
            13.688	365.2361
            37.174	524.2957
            45.266	555.8903
            49.388	564.8141
            65.142	586.4971
            67.064	588.2429
            117.14	609.0313
            117.14	609.0313
            117.145	351.2266
            118.969	385.6939
            119.669	394.3351
            119.674	253.0012
            124.686	321.4067
            124.691	291.8251
            125.401	301.0678
            127.655	319.5356
            129.217	327.7519
            129.713	329.3265
            129.718	298.2058
            130.291	306.0375
            131.503	312.412
            136.022	326.7362
            136.027	300.0325
            136.567	304.9572
            138.211	314.6233
            142.32	325.0845
            163.441	337.2538
            163.446	260.0879
            164.804	266.159
            169.553	277.628
            168.681	296.0075
            170.634	317.0266
            172.524	329.8718
        ];

        mode3 = [
            0	0
            -3.325	374.1394
            -3.507	386.8847
            -3.723	395.6907
            -4.145	403.5144
            -19.073	541.2025
            -23.311	558.3738
            -28.458	570.7841
            -42.746	584.3707
            -42.755	429.0692
            -43.37	471.4557
            -43.559	478.6299
            -43.936	485.3302
            -43.941	356.6406
            -44.912	390.667
            -45.509	400.527
            -47.408	418.3066
            -48.113	419.7106
            -52.616	422.5525
            -52.942	378.3572
            -53.716	382.264
            -56.629	389.9662
            -70.004	396.7251
            -70.009	135.6682
            -74.18	184.3198
            -74.877	188.6753
            -73.657	135.3543
        ];

    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
