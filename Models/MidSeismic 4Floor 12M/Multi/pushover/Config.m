classdef Config

    properties
        structural_behavior_type = 'A';

        SDS_SD1 = [0.66, 0.49];
        SMS_SM1 = [0.8, 0.54];

        PF = [
            1.279, 1.187, 1.065
        ];

        effective_mass = [
            1742, 228, 83
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            -35.998	276.2739
            -42.264	315.2707
            -90.778	499.2611
            -92.171	502.733
            -103.876	519.4205
            -118.516	530.6066
            -168.485	549.0487
            -186.269	555.6839
            -173.313	237.4655
        ];

        inverted_triangle = [
            0	0
            50	295.3938
            51.844	306.2853
            114.628	488.1999
            130.75	519.7171
            160.597	548.4612
            233.576	571.8186
            256.516	577.3356
            256.647	577.3978
            176.544	42.1557
        ];

        mode1 = [
            0	0
            -50	295.1987
            -51.597	304.6286
            -113.889	486.5823
            -130.145	518.3014
            -160.937	547.9773
            -213.427	566.8955
            -255.85	577.0882
            -255.85	577.0883
            -172.851	75.2394
        ];

        mode2 = [
            0	0
            10.319	312.3733
            13.687	365.2241
            27.921	475.1757
            39.378	522.8877
            41.31	527.688
            59.734	555.4623
            73.57	568.1555
            103.951	581.7937
            104.014	581.925
            104.018	320.4334
            105.88	349.4158
            111.231	391.2677
            111.617	392.9052
            111.621	329.7388
            111.625	117.4568
            118.411	168.3103
            124.546	190.6833
        ];

        mode3 = [
            0	0
            3.325	374.1422
            3.507	386.883
            3.723	395.686
            4.145	403.5104
            19.667	528.282
            21.192	534.3357
            23.294	539.5468
            44.648	562.4293
            44.653	407.4498
            45.259	449.2623
            45.545	459.601
            46.036	465.6378
            46.041	335.199
            46.84	366.5328
            47.589	380.5179
            49.312	396.3792
            50.34	398.4744
            54.256	401.1483
            54.579	357.0331
            57.755	368.5615
            65.357	372.8746
            65.357	372.8746
            65.362	229.3997
            67.356	268.5094
            67.875	274.5905
            64.224	151.6544
        ];

    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
