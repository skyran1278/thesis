classdef Config

    properties
        structural_behavior_type = 'A';

        SDS_SD1 = [0.66, 0.49];
        SMS_SM1 = [0.8, 0.54];

        PF = [
            1.279, 1.187, 1.065
        ];

        effective_mass = [
            1742, 228, 83
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            -35.998	276.2739
            -42.264	315.2707
            -84.646	482.1609
            -92.172	502.7347
            -103.864	519.4057
            -118.529	530.7238
            -158.502	545.4195
            -186.244	555.8209
            -186.537	219.0494
            -198.243	250.424
            -198.245	250.4257
            -198.267	250.4828
        ];

        inverted_triangle = [
            0	0
            40	236.3151
            51.843	306.2796
            92.959	437.0511
            130.753	519.7218
            160.596	548.4673
            209.003	565.8148
            248.98	575.5286
            258.018	577.7177
            174.894	74.7932
        ];

        mode1 = [
            0	0
            -40	236.159
            -51.596	304.623
            -94.96	441.8883
            -130.147	518.3046
            -160.926	547.9493
            -213.439	566.8799
            -254.099	576.65
            -255.811	577.0572
            -251.068	310.1662
        ];

        mode2 = [
            0	0
            10.319	312.3733
            13.687	365.2241
            27.921	475.1757
            39.378	522.8877
            41.31	527.688
            59.731	555.4387
            73.576	568.141
            103.954	581.7843
            104.017	581.9155
            104.019	320.4058
            105.882	349.4045
            111.234	391.2566
            111.619	392.8909
            111.623	329.7105
            111.625	117.2887
            119.04	172.1078
            123.55	187.2771
        ];

        mode3 = [
            0	0
            3.325	374.1422
            3.507	386.883
            3.723	395.686
            4.145	403.5104
            19.667	528.282
            21.192	534.3357
            23.294	539.5468
            44.648	562.4294
            44.652	407.0782
            45.26	449.0418
            45.545	459.3408
            46.036	465.3776
            46.04	334.7655
            46.842	366.2308
            47.59	380.1889
            49.321	396.1245
            50.344	398.2088
            54.255	400.8799
            54.524	330.4713
            54.827	335.2207
            59.416	351.8716
            65.793	355.4785
            66.04	356.4388
            66.044	204.9227
            68.588	242.2649
            69.213	244.782
            69.213	244.7878
            69.223	244.9119
            69.223	244.9148
            69.226	244.9458
            69.226	244.9462
            69.226	244.9539
        ];

    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
