classdef Config

    properties
        structural_behavior_type = 'A';

        SDS_SD1 = [0.66, 0.49];
        SMS_SM1 = [0.8, 0.54];

        PF = [
            1.279, 1.187, 1.065
        ];

        effective_mass = [
            1742, 228, 83
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            40	1.0322
            44.696	1.1533
            95.618	1.8041
            144.45	2.2886
            160.346	2.4164
            179.479	2.5032
            225.79	2.5966
            225.779	2.3459
            229.937	2.3809
            229.94	2.3197
            234.083	2.344
            234.082	1.8538
            240.633	1.8934
            240.696	1.8943
            240.686	1.7743
            266.937	1.9262
            267.527	1.6258
            271.072	1.6569
            284.086	1.7183
            284.628	1.7198
        ];

        inverted_triangle = [
            0	0
            40	236.3431
            51.845	306.3304
            92.949	437.0775
            145.897	554.2472
            190.03	612.7326
            208.761	625.0362
            230.84	633.1153
            227.35	318.4827
        ];

        mode1 = [
            0	0
            40	236.1865
            51.599	304.6733
            94.95	441.9126
            145.242	552.837
            188.931	610.6964
            203.962	621.1035
            230.05	630.6021
            141.493	53.2959
        ];

        mode2 = [
            0	0
            10.319	312.3838
            13.688	365.2361
            37.174	524.2957
            69.215	652.375
            80.934	672.8078
            84.439	676.5904
            90.308	680.6839
            109.061	685.9048
            94.254	202.1103
        ];

        mode3 = [
            0	0
            -3.325	374.1394
            -3.507	386.8847
            -3.723	395.6907
            -4.145	403.5144
            -19.12	541.5927
            -36.275	639.8985
            -36.279	484.3816
            -36.611	507.2724
            -37.102	523.6938
            -37.483	531.4891
            -38.375	538.1661
            -38.379	407.9489
            -39.398	444.4308
            -39.954	448.2745
            -49.669	454.7404
            -49.94	383.9925
            -50.377	389.5001
            -51.616	397.4975
            -56.914	407.0688
            -72.32	415.484
            -72.679	373.1952
            -73.397	377.7522
            -75.841	381.9473
            -75.845	140.3765
            -76.334	146.5749
            -76.384	124.9465
            -78.924	120.2829
            -103.618	209.8409
            -103.808	210.1528
            -103.864	210.1339
            -103.864	210.1342
            -103.865	210.1376
            -103.865	210.1377
            -103.866	210.1394
            -103.866	210.1394
            -103.866	210.1403
        ];

    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
