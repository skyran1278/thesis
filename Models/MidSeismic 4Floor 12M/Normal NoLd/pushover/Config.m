classdef Config

    properties
        structural_behavior_type = 'A';

        SDS_SD1 = [0.66, 0.49];
        SMS_SM1 = [0.8, 0.54];

        PF = [
            1.279, 1.187, 1.065
        ];

        effective_mass = [
            1742, 228, 83
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            39.188	178.324
            91.784	311.3243
            104.614	331.3073
            131.625	352.3213
            175.033	373.4085
            175.034	373.4099
            175.004	159.6173
            176.989	161.0502
            64.622	-217.7951
        ];

        inverted_triangle = [
            0	0
            50	295.4289
            51.846	306.3361
            119.799	500.4534
            130.71	522.5137
            159.789	552.6252
            214.787	577.5275
            243.833	587.5257
            244.304	587.813
            244.299	344.0459
            263.824	397.9031
            269.341	407.3334
        ];

        mode1 = [
            0	0
            50	295.2331
            51.6	304.679
            119.044	498.8003
            130.092	521.0493
            158.953	551.6381
            211.942	575.7208
            241.407	586.196
            241.407	586.196
            241.395	343.2895
            263.642	401.4041
            266.792	406.0548
            266.988	406.4579
        ];

        mode2 = [
            0	0
            10.319	312.3838
            13.688	365.2361
            37.174	524.2957
            44.999	554.6729
            64.254	583.7846
            67.162	586.5594
            116.544	609.0816
            116.553	321.093
            118.149	337.9082
            118.152	169.5319
            121.639	203.0856
            121.775	205.0177
        ];

        mode3 = [
            0	0
            3.325	374.1394
            3.507	386.8847
            3.723	395.6907
            4.145	403.5144
            18.818	539.0701
            23.352	557.4535
            28.092	568.8942
            42.791	583.5167
            42.796	427.5692
            43.416	470.2949
            43.604	477.4276
            43.97	483.9431
            43.975	355.4054
            45.021	391.6132
            45.513	399.7717
            47.468	418.1268
            52.94	421.8135
            53.265	377.6145
            54.485	383.9722
            56.737	389.9034
            70.235	395.954
            70.24	252.4806
            72.234	290.7438
            73.383	304.1415
            73.388	161.4869
            76.248	200.8159
            78.261	212.3428
            80.101	216.927
            80.665	217.0878
            80.736	217.2614
            80.789	217.5722
            80.814	217.6425
            80.814	217.6443
            80.82	217.6619
            80.82	217.6624
            80.823	217.6711
        ];

    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
