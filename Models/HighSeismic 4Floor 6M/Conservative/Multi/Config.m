classdef Config

    properties
        structural_behavior_type = 'A';

        % SDS_SD1 = [0.5, 0.3];
        % SMS_SM1 = [0.7, 0.4];
        % SDS_SD1 = [0.66, 0.49];
        % SMS_SM1 = [0.8, 0.54];
        SDS_SD1 = [0.8, 0.675];
        SMS_SM1 = [1, 0.77];

        PF = [
            1.252, 0.35, 0.126
        ];

        effective_mass = [
            457, 47, 12
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            34.014	134.1603
            41.183	153.1929
            63.601	182.5083
            81.566	189.3779
            140.601	200.5994
            142.98	200.9172
            142.98	200.9172
            142.98	200.9172
            142.98	200.9172
        ];

        mode1 = [
            0	0
            40	100.7631
            42.497	107.0537
            51.303	121.9843
            53.167	123.7466
            90.615	139.6118
            134.36	148.9992
            174.327	151.5608
            214.288	154.0627
            219.547	154.3681
            259.484	155.0406
            274.261	155.2791
            274.175	139.4952
            275.595	141.1526
            281.985	144.671
            284.825	145.3441
            293.341	146.5488
        ];

        mode2 = [
            0	0
            -6.021	55.9563
            -8.913	78.1456
            -16.281	97.1283
            -26.268	108.6225
            -44.676	117.6242
            -50.239	119.346
            -54.975	120.3011
            -128.293	123.207
            -133.058	123.4119
            -133.061	104.8562
            -134.962	111.1652
            -136.949	114.4369
            -136.953	112.2694
            -137.496	113.5732
            -137.502	110.7154
            -138.178	112.6844
            -138.181	110.7487
            -138.523	111.7428
            -138.526	106.7187
            -139.31	108.9893
        ];

        mode3 = [
            0	0
            2.063	43.9762
            3.864	67.4906
            7.768	89.1006
            12.106	97.9237
            12.558	98.4269
            16.392	100.7672
            67.632	106.6536
            67.632	106.6536
            67.636	83.0505
            67.934	86.6732
            68.755	92.9071
            71.477	96.1571
            72.754	96.8973
            74.019	97.0292
            74.76	73.3667
            75.873	81.228
            75.879	78.4591
            76.037	79.2902
            76.041	76.6908
            76.193	77.6187
            76.197	75.6112
            76.314	76.3242
            76.933	47.6536
            78.106	56.3717
            79.005	60.541
            81.938	64.694
            87.471	63.2858
            88.662	63.9639
        ];

        inverted_triangle = [
            0	0
            40	98.3666
            42.647	104.8765
            52.322	120.7406
            55.737	123.1515
            85.814	135.238
            143.615	146.9149
            183.588	149.391
            197.582	150.2387
            237.523	150.894
            277.466	151.5096
            288.653	151.6828
            288.565	136.0502
            290.022	137.7269
            295.121	140.6895
        ];
    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
