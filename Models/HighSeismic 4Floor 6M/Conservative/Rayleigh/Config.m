classdef Config

    properties
        structural_behavior_type = 'A';

        SDS_SD1 = [0.8, 0.675];
        SMS_SM1 = [1, 0.77];

        PF = [
            1.252, 1.116, 1.103
        ];

        effective_mass = [
            456, 47, 10
        ];

        % roof displacement(mm), V(tonf)
        mmc = [
            0	0
            -30	101.8998
            -33.23	112.8713
            -44.748	136.1316
            -63.903	152.5427
            -85.584	162.3328
            -141.185	170.7861
            -141.569	170.8211
            -141.569	170.8211
            -141.569	170.8211
            -141.569	170.8211
            -141.569	170.8211
            -141.569	170.8211
            -141.569	170.8211
            -141.569	170.8211
            -141.569	170.8211
            -141.569	170.8211
        ];

        inverted_triangle = [
            0	0
            30	73.7885
            42.64	104.8777
            52.353	120.8066
            63.702	129.0058
            85.013	137.2942
            123.876	145.87
            141.419	149.0497
            197.899	152.7343
            209.496	153.4408
            239.451	153.9549
            269.408	154.4156
            299.364	154.8659
            299.771	154.8724
        ];

        mode1 = [
            0	0
            -30	75.5868
            -42.49	107.0563
            -51.525	122.3154
            -63.705	131.2968
            -89.945	141.5854
            -120.228	148.4662
            -133.679	150.9281
            -163.638	153.0449
            -219.196	156.7099
            -231.208	157.4545
            -261.162	157.9099
            -291.117	158.3556
            -299.757	158.4845
        ];

        mode2 = [
            0	0
            6.144	57.0918
            8.898	78.2157
            16.033	98.8154
            26.693	111.9399
            27.103	112.2756
            41.636	119.4933
            47.279	121.2825
            52.949	122.4679
            110.538	125.0539
            139.632	126.2625
            139.633	126.2628
            139.906	103.8887
            143.317	114.7364
            144.247	116.4049
            146.108	117.9203
            147.348	118.4204
        ];

        mode3 = [
            0	0
            2.105	44.87
            3.859	67.719
            7.37	93.3385
            11.528	101.8632
            12.303	102.7345
            13.654	103.5757
            45.394	107.7067
            69.434	110.3986
            69.439	85.8857
            69.685	88.8671
            70.614	95.9309
            73.505	99.3868
            73.135	59.1699
        ];

    end

    methods
        function [sd, sa] = load_pattern(obj, name)
            [~, index] = max(obj.(name)(:, 2));
            [pf, mass] = obj.parameter(name);
            sd = abs(obj.(name)(1:index, 1).' ./ pf);
            sa = abs(obj.(name)(1:index, 2).' ./ mass);
        end

        function [ss, s1] = spectrum(obj, name)
            if name == "DBE"
                ss = obj.SDS_SD1(1);
                s1 = obj.SDS_SD1(2);
            elseif name == "MCE"
                ss = obj.SMS_SM1(1);
                s1 = obj.SMS_SM1(2);
            end
        end

        function [PF, effective_mass] = parameter(obj, name)
            if name == "mmc" || name == "inverted_triangle"
                index = 1;
            else
                index = str2double(name(end));
            end

            PF = obj.PF(index);
            effective_mass = obj.effective_mass(index);

        end
    end

end
